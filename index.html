<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>器用貧乏の型診断｜5タイプ判定</title>
<meta name="description" content="あなたの“器用貧乏の型”を10問で判定。翻訳者／触媒／編集プロデューサー／実装ディレクター／アイデアメーカーの5タイプから診断します。" />
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
<style>
  :root{
    --bg:#ffffff;
    --panel:#f9fafb;
    --ink:#111827;            /* Gray-900 */
    --muted:#6b7280;          /* Gray-500 */
    --line:#e5e7eb;           /* Gray-200 */
    --hi:#2563eb;             /* Blue-600 */
    --ok:#16a34a;             /* Green-600 */
    --bg:#f1f5f9;
    --panel:rgba(255,255,255,0.86);
    --ink:#0f172a;
    --muted:#64748b;
    --line:rgba(148,163,184,0.35);
    --hi:#2563eb;
    --hi-soft:#e0edff;
    --accent:#6366f1;
    --ok:#16a34a;
    --gradient:linear-gradient(135deg,#2563eb 0%,#6366f1 45%,#0ea5e9 100%);
  }
  *{box-sizing:border-box}
  body{
    margin:0; background:var(--bg); color:var(--ink);
    font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    line-height:1.6;
    line-height:1.7; position:relative; min-height:100vh;
  }
  .wrap{max-width:960px;margin:40px auto;padding:0 16px}
  .card{
    background:var(--panel); border:1px solid var(--line); border-radius:16px; padding:22px;
    box-shadow:0 8px 20px rgba(0,0,0,.06)
  body::before, body::after{
    content:""; position:fixed; inset:auto -160px 50% auto; width:420px; height:420px;
    background:radial-gradient(circle at center,rgba(37,99,235,0.25),rgba(37,99,235,0));
    filter:blur(0); z-index:-2; transform:rotate(5deg);
  }
  h1{margin:0 0 6px;font-size:28px;font-weight:800}
  .lead{color:var(--muted);margin:0 0 18px}
  h2{margin:16px 0 8px;font-size:18px}
  .q{margin:12px 0;padding:16px;border:1px solid var(--line);border-radius:12px;background:#fff}
  .q label{display:block;font-weight:700;margin-bottom:8px}
  .scale{display:flex;gap:8px;flex-wrap:wrap}
  body::after{
    inset:40% auto auto -120px; width:500px; height:500px;
    background:radial-gradient(circle at center,rgba(14,165,233,0.24),rgba(14,165,233,0));
  }
  .wrap{max-width:1080px;margin:0 auto;padding:56px 20px 96px; position:relative; z-index:1;}
  .glass-card{
    background:var(--panel); border:1px solid var(--line); border-radius:22px; padding:26px 28px;
    box-shadow:0 22px 60px rgba(15,23,42,0.08); backdrop-filter:blur(14px);
  }
  .hero{
    text-align:center; margin-bottom:42px; position:relative; overflow:hidden;
    border-radius:30px; padding:54px 24px; color:#fff;
    background:var(--gradient);
  }
  .hero::after{
    content:""; position:absolute; inset:0; background:radial-gradient(circle at 20% 20%,rgba(255,255,255,0.12),transparent 55%),
    radial-gradient(circle at 80% 15%,rgba(255,255,255,0.18),transparent 45%);
    opacity:.9; pointer-events:none;
  }
  .hero-content{position:relative; z-index:1; max-width:700px; margin:0 auto;}
  .badge{
    display:inline-flex; align-items:center; gap:8px; padding:6px 14px; border-radius:999px;
    background:rgba(255,255,255,0.12); font-weight:600; letter-spacing:.04em; font-size:13px;
    text-transform:uppercase;
  }
  .hero h1{
    margin:18px 0 12px; font-size:36px; font-weight:800; line-height:1.25;
  }
  .hero p{margin:0 auto 28px; color:rgba(255,255,255,0.88); font-size:17px;}
  .hero-metrics{display:flex; justify-content:center; flex-wrap:wrap; gap:18px; font-size:14px;}
  .hero-metrics li{
    list-style:none; min-width:160px; padding:12px 16px; border-radius:16px;
    border:1px solid rgba(255,255,255,0.25); background:rgba(15,23,42,0.28);
  }
  .hero-metrics strong{display:block; font-size:20px; font-weight:700;}
  h2{margin:0 0 14px;font-size:20px;font-weight:700;color:var(--ink);}
  .lead{font-size:16px;color:var(--muted);margin:0 0 24px;}
  .q{
    position:relative; margin:14px 0; padding:22px 20px 20px 24px;
    border:1px solid var(--line); border-radius:18px; background:#fff;
    box-shadow:0 12px 30px rgba(15,23,42,0.04);
  }
  .q::before{
    content:attr(data-idx); position:absolute; inset:18px auto auto -12px;
    background:var(--gradient); color:#fff; width:36px; height:36px;
    border-radius:14px; display:flex; align-items:center; justify-content:center;
    font-weight:700; box-shadow:0 8px 18px rgba(37,99,235,0.32);
  }
  .q label{display:block;font-weight:700;margin-bottom:12px;font-size:16px;color:var(--ink);}
  .scale{display:grid;grid-template-columns:repeat(auto-fit,minmax(80px,1fr));gap:10px;margin-bottom:10px;}
  .scale input{display:none}
  .scale label{
    flex:1; min-width:64px; text-align:center; padding:10px;
    border:1px solid #d1d5db; border-radius:10px; cursor:pointer; color:#374151; background:#fff
    display:flex;align-items:center;justify-content:center;
    min-height:44px;border:1px solid rgba(148,163,184,0.6);border-radius:14px;
    cursor:pointer;color:#334155;background:#fff;font-weight:600;transition:all .22s ease;
  }
  .scale label:hover{transform:translateY(-2px); box-shadow:0 12px 24px rgba(37,99,235,0.08);}
  .scale input:checked+label{
    border-color:var(--hi); background:#eff6ff; color:#111827; box-shadow:0 0 0 2px rgba(37,99,235,.15) inset
    border-color:rgba(37,99,235,0.9); background:var(--hi-soft); color:#0f172a;
    box-shadow:0 0 0 3px rgba(37,99,235,0.18);
  }
  .btns{display:flex;gap:12px;flex-wrap:wrap;margin-top:16px}
  .hint{color:var(--muted);font-size:13px;}
  .btns{display:flex;gap:14px;flex-wrap:wrap;margin-top:24px;justify-content:flex-end;}
  button{
    background:var(--hi); border:none; color:#fff; padding:12px 16px; border-radius:12px; font-weight:800; cursor:pointer
    background:var(--gradient); border:none; color:#fff; padding:13px 20px; border-radius:14px;
    font-weight:700; cursor:pointer; font-size:15px; letter-spacing:.01em;
    box-shadow:0 16px 30px rgba(37,99,235,0.18); transition:transform .18s ease, box-shadow .18s ease;
  }
  button.secondary{ background:#e5e7eb; color:#111827 }
  button:hover{transform:translateY(-2px); box-shadow:0 18px 36px rgba(37,99,235,0.22);}
  button.secondary{
    background:rgba(255,255,255,0.9); color:var(--ink); border:1px solid rgba(148,163,184,0.45);
    box-shadow:none;
  }
  button.secondary:hover{box-shadow:0 10px 24px rgba(15,23,42,0.12);}
  .muted{color:var(--muted)}
  .row{display:grid;grid-template-columns:1fr 1fr;gap:16px}
  .row > div{background:#fff;border:1px solid var(--line);border-radius:12px;padding:16px}
  .pill{
    display:inline-block;padding:3px 10px;border:1px solid var(--line);
    border-radius:999px;font-size:12px;color:#1f2937;background:#fff
  .result-card{margin-top:26px; display:none;}
  .result-head{
    display:grid; grid-template-columns:repeat(auto-fit,minmax(280px,1fr)); gap:20px;
  }
  .share{display:flex;gap:10px;flex-wrap:wrap;margin-top:10px}
  input[type="text"], input[type="email"]{
    width:100%;padding:10px;border-radius:10px;border:1px solid #d1d5db;background:#fff;color:#111827
  .result-panel{
    background:#fff; border:1px solid rgba(148,163,184,0.35); border-radius:20px; padding:22px;
    box-shadow:0 16px 38px rgba(15,23,42,0.06);
  }
  .winner-section{display:flex;flex-direction:column;align-items:center;text-align:center;gap:16px;}
  .winner-folder{
    display:flex;align-items:center;justify-content:center;min-height:120px;width:100%;max-width:420px;
    border-radius:24px; padding:28px 16px; background:linear-gradient(135deg,#f8fbff,rgba(224,237,255,0.65));
    border:2px dashed rgba(37,99,235,0.55);
  }
  .winner-big{font-size:34px !important;font-weight:800;margin:0;line-height:1.35;color:var(--ink);}  
  .score-pill{
    display:inline-flex;align-items:center;gap:6px;padding:6px 12px;border-radius:999px;
    background:rgba(37,99,235,0.12);color:var(--hi);font-weight:600;font-size:13px;
  }
  #summary{
    font-size:14px;padding:10px 14px;border-radius:14px;background:rgba(148,163,184,0.12);
  }
  #tieNote{margin-top:4px;}
  canvas{background:#fff;border-radius:18px;padding:18px;border:1px solid rgba(148,163,184,0.28);
    box-shadow:0 12px 28px rgba(15,23,42,0.05);}
  .row{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:20px;margin-top:22px;}
  .row > div{background:#fff;border:1px solid rgba(148,163,184,0.3);border-radius:20px;padding:22px;box-shadow:0 16px 32px rgba(15,23,42,0.05);}  
  .row h2{margin-top:0;}
  #actions{padding-left:20px;margin:0;display:grid;gap:8px;font-weight:600;color:#1e293b;}
  #actions li{background:rgba(37,99,235,0.08);padding:10px 12px;border-radius:12px;list-style:decimal;list-style-position:inside;}
  .share{display:flex;gap:12px;flex-wrap:wrap;margin-top:14px;}
  .share button,.share a{
    border-radius:12px;padding:10px 14px;font-weight:600;font-size:14px;
    background:rgba(148,163,184,0.18);color:var(--ink);border:1px solid rgba(148,163,184,0.35);
    text-decoration:none;display:inline-flex;align-items:center;gap:6px;transition:all .18s;
  }
  .share button:hover,.share a:hover{background:rgba(37,99,235,0.1);color:var(--hi);}
  .pill{text-decoration:none;}
  @media (max-width:720px){
    .hero h1{font-size:30px;}
    .btns{justify-content:center;}
    .winner-big{font-size:28px !important;}
  }
  @media (max-width:480px){
    .hero{padding:46px 18px;}
    .q{padding:20px 16px 18px 22px;}
    .winner-folder{min-height:96px;padding:22px 12px;}
  }
  canvas{background:#ffffff;border-radius:12px;padding:12px;border:1px solid var(--line)}
  @media (max-width:840px){ .row{grid-template-columns:1fr} }
  a.pill{ text-decoration:none }
  /* 判定タイトルを大きく中央に */
.winner-big {
  text-align: center;
  font-size: 32px !important;
  font-weight: 900;
  margin: 16px 0;
  line-height: 1.4;
}

</style>
</head>
<body>
<div class="wrap">
  <div class="card">
    <h1>器用貧乏の型診断</h1>
    <p class="lead">10問・5段階の自己評価で、あなたの“器用貧乏の型”を判定します。翻訳者／触媒／編集プロデューサー／実装ディレクター／アイデアメーカーの5タイプ。</p>

    <!-- 任意：サイトURL（X/LinkedInシェア用に使用）。空なら現在URLを自動使用 -->
    <!-- const SITE_URL = 'https://yourname.github.io/Rich-in-Versatility/'; -->
  <section class="hero">
    <div class="hero-content">
      <span class="badge">5タイプ診断</span>
      <h1>器用貧乏の型診断</h1>
      <p>10問・5段階の自己評価で、あなたの“器用貧乏の型”を判定します。翻訳者／触媒／編集プロデューサー／実装ディレクター／アイデアメーカーの5タイプから一番近いスタイルを導きます。</p>
      <ul class="hero-metrics">
        <li><strong>10問</strong>自己診断</li>
        <li><strong>5タイプ</strong>強みプロファイル</li>
        <li><strong>14日</strong>アクションプラン付き</li>
      </ul>
    </div>
  </section>

  <section class="glass-card" aria-label="診断フォーム">
    <h2>ステップ 1｜10問に回答</h2>
    <p class="lead">直感で選んでOK。各項目を 1（全く当てはまらない）〜 5（とても当てはまる）から選びます。</p>
    <form id="form"></form>
    <div class="btns">
      <button type="button" id="calc">診断する</button>
      <button type="button" id="reset" class="secondary">リセット</button>
    </div>
  </div>
  </section>

  <div id="resultCard" class="card" style="margin-top:16px;display:none">
    <div class="row">
      <div>
        <h2>あなたの型（判定）</h2>
        <div id="winner" style="font-size:20px;font-weight:800;margin-bottom:6px"></div>
        <div id="summary" class="muted"></div>
        <div style="margin-top:8px"><span id="tieNote" class="pill" style="display:none">同点は優先順で判定</span></div>
  <section id="resultCard" class="result-card glass-card" aria-live="polite">
    <div class="result-head">
      <div class="result-panel">
        <h2>ステップ 2｜判定結果</h2>
        <div class="winner-section">
          <div id="winnerFolder" class="winner-folder">
            <p id="winner" class="winner-big"></p>
          </div>
          <span class="score-pill">あなたのスコアバランス</span>
          <div id="summary"></div>
          <div id="tieWrap">
            <span id="tieNote" class="pill" style="display:none">同点は優先順で判定</span>
          </div>
        </div>
      </div>
      <div>
        <h2>タイプ別スコア</h2>
        <canvas id="chart" height="200" aria-label="タイプ別スコアのレーダーチャート"></canvas>
      <div class="result-panel">
        <h2>レーダーチャート</h2>
        <canvas id="chart" height="220" aria-label="タイプ別スコアのレーダーチャート"></canvas>
      </div>
    </div>

    <div class="row" style="margin-top:16px">
    <div class="row">
      <div>
        <h2>強み</h2>
        <div id="strength"></div>
        <h2 style="margin-top:14px">よくある悩み</h2>
        <h2 style="margin-top:16px">よくある悩み</h2>
        <div id="pain"></div>
      </div>
      <div>
        <h2>器用リッチに進化すると</h2>
        <div id="evolve"></div>
        <h2 style="margin-top:14px">次の一手（14日）</h2>
        <h2 style="margin-top:16px">次の一手（14日）</h2>
        <ol id="actions"></ol>
      </div>
    </div>

    <div style="margin-top:14px">
      <h2>結果の保存とシェア</h2>
    <div style="margin-top:20px">
      <h2>ステップ 3｜保存とシェア</h2>
      <div class="share">
        <button id="saveImg" class="secondary" type="button">画像として保存</button>
        <button id="savePdf" class="secondary" type="button">PDFとして保存</button>
        <button id="copy" type="button">テキストをコピー</button>
        <a id="xshare" class="pill" target="_blank" rel="noopener">Xでシェア</a>
        <a id="lnshare" class="pill" target="_blank" rel="noopener">LinkedInでシェア</a>
      </div>
      <p class="muted" style="margin-top:6px">#器用貧乏の型診断</p>
      <p class="muted" style="margin-top:8px">#器用貧乏の型診断</p>
    </div>
  </div>
  </section>
</div>

<!-- ライブラリ -->
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>

<script>
/* =========================
   設定
   ========================= */
const SITE_URL = '';
const TYPES = [
  { key:'translator', name:'翻訳者型', order:1 },
  { key:'catalyst',   name:'触媒型', order:2 },
  { key:'editor',     name:'編集プロデューサー型', order:3 },
  { key:'director',   name:'実装ディレクター型', order:4 },
  { key:'ideator',    name:'アイデアメーカー型', order:5 }
];

const QUESTIONS = [
  { id:'q1',  text:'初めてのテーマでも、人にわかりやすく説明するのが得意だ', type:'translator' },
  { id:'q2',  text:'新しい人と人を紹介したり、場をつなぐのが好きだ',         type:'catalyst' },
  { id:'q3',  text:'バラバラの情報を整理して、見やすくまとめるのが好きだ',     type:'editor' },
  { id:'q4',  text:'進まない仕事を見ると、段取りを組んで前に進めてしまう',     type:'director' },
@@ -177,122 +277,153 @@ const FEEDBACK = {
  },
  editor: {
    strength:'情報を整理・編集し、伝わる形にできる。',
    pain:'まとめ役に回りがちで発信力が弱い。',
    evolve:'Zineや教材化で編集力を資産化できる。',
    actions:['構造テンプレを固定','事例3枚スライド化','月1回Zine発行']
  },
  director: {
    strength:'段取り・推進力に優れる。',
    pain:'裏方で消耗しやすい。',
    evolve:'B2B伴走やライセンス展開で価値を資産化可能。',
    actions:['案件の流れを1枚化','週次チェックリスト化','提案書テンプレを作成']
  },
  ideator: {
    strength:'新しい発想や企画を次々と生み出せる。',
    pain:'形にできず途中で飽きがち。',
    evolve:'企画モデルを再現可能に整理できる。',
    actions:['アイデア選定基準を数値化','1本に2週間集中ルール','毎週ミニ検証サイクル']
  }
};

/* 設問描画 */
const form = document.getElementById('form');
QUESTIONS.forEach((q,i)=>{
  const div=document.createElement('div');div.className='q';
  div.innerHTML=`<label>${i+1}. ${q.text}</label>
  div.setAttribute('data-idx', i+1);
  div.innerHTML=`<label>${q.text}</label>
  <div class="scale">
    ${[1,2,3,4,5].map(v=>`
      <input type="radio" id="${q.id}_${v}" name="${q.id}" value="${v}">
      <label for="${q.id}_${v}">${v}</label>`).join('')}
  </div><div class="muted">1=全く当てはまらない ／ 5=とても当てはまる</div>`;
  </div><div class="hint">1 = 全く当てはまらない ／ 5 = とても当てはまる</div>`;
  form.appendChild(div);
});

let chart; // レーダーチャート用

function calcAndRender(){
  // スコア集計
  const points={translator:0,catalyst:0,editor:0,director:0,ideator:0};
  for(const q of QUESTIONS){
    const v=document.querySelector(`input[name=${q.id}]:checked`);
    if(!v){alert('全て回答してください');return;}
    if(!v){ alert('全て回答してください'); return; }
    points[q.type]+=Number(v.value);
  }

  // 勝者（同点は order 優先）
  const sorted=TYPES.map(t=>({key:t.key,name:t.name,score:points[t.key],order:t.order}))
    .sort((a,b)=> b.score===a.score? a.order-b.order : b.score-a.score);
    .sort((a,b)=> b.score===a.score ? a.order-b.order : b.score-a.score);
  const winner=sorted[0];
  const tie = sorted.filter(s=>s.score===winner.score).length>1;
  const fb=FEEDBACK[winner.key];

  // 表示
  // 判定タイトルを「テキストフォルダー」の中央＆大きく表示
  document.getElementById('resultCard').style.display='block';
  document.getElementById('winner').textContent=`あなたは「${winner.name}」です`;
  document.getElementById('summary').textContent=
  const wEl = document.getElementById('winner');
  wEl.textContent = `あなたは「${winner.name}」です`;

  // サマリー・テキスト群
  document.getElementById('summary').textContent =
    `翻訳者${points.translator}／触媒${points.catalyst}／編集${points.editor}／実装${points.director}／アイデア${points.ideator}`;
  document.getElementById('tieNote').style.display = tie ? 'inline-block' : 'none';
  document.getElementById('strength').textContent=fb.strength;
  document.getElementById('pain').textContent=fb.pain;
  document.getElementById('evolve').textContent=fb.evolve;
  document.getElementById('tieNote').style.display = tie ? 'inline-flex' : 'none';
  document.getElementById('strength').textContent = fb.strength;
  document.getElementById('pain').textContent     = fb.pain;
  document.getElementById('evolve').textContent   = fb.evolve;

  // アクション
  const ol=document.getElementById('actions'); ol.innerHTML='';
  fb.actions.forEach(a=>{const li=document.createElement('li'); li.textContent=a; ol.appendChild(li)});
  fb.actions.forEach(a=>{ const li=document.createElement('li'); li.textContent=a; ol.appendChild(li); });

  // グラフ描画
  // レーダーチャート
  const ctx = document.getElementById('chart');
  if(chart) chart.destroy();
  chart=new Chart(document.getElementById('chart'),{
  chart = new Chart(ctx,{
    type:'radar',
    data:{labels:['翻訳者','触媒','編集P','実装D','アイデア'],
      datasets:[{label:'スコア',data:[points.translator,points.catalyst,points.editor,points.director,points.ideator]}]},
    options:{scales:{r:{suggestedMin:0,suggestedMax:10,ticks:{display:false}}},plugins:{legend:{display:false}}}
    data:{
      labels:['翻訳者','触媒','編集P','実装D','アイデア'],
      datasets:[{
        label:'スコア',
        data:[points.translator, points.catalyst, points.editor, points.director, points.ideator],
        backgroundColor:'rgba(37,99,235,0.22)',
        borderColor:'rgba(37,99,235,0.75)',
        pointBackgroundColor:'#1d4ed8',
        pointBorderWidth:2,
        borderWidth:2
      }]
    },
    options:{
      scales:{
        r:{
          suggestedMin:0,
          suggestedMax:10,
          grid:{color:'rgba(15,23,42,0.12)'},
          angleLines:{color:'rgba(15,23,42,0.12)'},
          ticks:{display:false}
        }
      },
      plugins:{
        legend:{display:false}
      }
    }
  });

  // シェアリンク接続
  // シェアのリンク更新（テキストコピー / X / LinkedIn）
  setShareLinks(winner.name);

  // 結果へスクロール
  window.scrollTo({top:document.getElementById('resultCard').offsetTop-8, behavior:'smooth'});
  window.scrollTo({ top: document.getElementById('resultCard').offsetTop - 12, behavior:'smooth' });
}

// 保存＆シェア機能
async function saveAsImage(){
  const el = document.getElementById('resultCard');
  const canvas = await html2canvas(el, {backgroundColor:'#ffffff', scale:2});
  const a = document.createElement('a');
  a.href = canvas.toDataURL('image/png');
  a.download = 'type-result.png';
  a.click();
}
async function saveAsPdf(){
  const el = document.getElementById('resultCard');
  const canvas = await html2canvas(el, {backgroundColor:'#ffffff', scale:2});
  const imgData = canvas.toDataURL('image/png');
  const { jsPDF } = window.jspdf;
  const pdf = new jsPDF({orientation:'p', unit:'pt', format:'a4'});
  const w = 540, h = canvas.height*(w/canvas.width);
  pdf.setFillColor(255,255,255); pdf.rect(0,0,595,842,'F');
  pdf.addImage(imgData,'PNG',28,40,w,h);
  pdf.save('type-result.pdf');
}
function setShareLinks(typeName){
  const site = SITE_URL || (location.origin + location.pathname);
  const text = `私は「器用貧乏の型診断」で ${typeName} でした。#器用貧乏の型診断\n${site}`;
  const copyBtn = document.getElementById('copy');
  if(copyBtn){ copyBtn.onclick = async ()=>{ await navigator.clipboard.writeText(text); alert('コピーしました'); }; }
  const x = document.getElementById('xshare');
  const ln = document.getElementById('lnshare');
  if(x)  x.href  = `https://twitter.com/intent/tweet?text=${encodeURIComponent(text)}`;
  if(ln) ln.href = `https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(site)}`;
}

// イベント接続
 document.getElementById('calc').addEventListener('click', calcAndRender);
 document.getElementById('reset').addEventListener('click', ()=>{
document.getElementById('calc').addEventListener('click', calcAndRender);
document.getElementById('reset').addEventListener('click', ()=>{
  document.querySelectorAll('input[type=radio]').forEach(n=>n.checked=false);
  document.getElementById('resultCard').style.display='none';
  if(chart) chart.destroy();
 });
 document.getElementById('saveImg').addEventListener('click', saveAsImage);
 document.getElementById('savePdf').addEventListener('click', saveAsPdf);
});
document.getElementById('saveImg').addEventListener('click', saveAsImage);
document.getElementById('savePdf').addEventListener('click', saveAsPdf);
</script>
</body>
</html>
